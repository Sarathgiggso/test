 CREATE TABLE `ats_groupapp_memberaccess` (
  `groupapp_memberaccess_id` int(11) NOT NULL AUTO_INCREMENT,
  `resource_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  `app_name` varchar(100) DEFAULT NULL,
  `app_key` varchar(100) DEFAULT NULL,
  `created_datetime` datetime DEFAULT NULL,
  `updated_datetime` datetime DEFAULT NULL,
  PRIMARY KEY (`groupapp_memberaccess_id`)
) ENGINE=InnoDB;

CREATE TABLE `ats_group_app` (
  `group_app_id` int(11) NOT NULL AUTO_INCREMENT,
  `resource_id` int(11) NOT NULL,
  `group_id` int(11) NOT NULL,
  `sub_group_id` int(11) DEFAULT NULL,
  `default_App_flg` int(11) DEFAULT 0,
  `group_name` varchar(300) DEFAULT NULL,
  `sub_group_name` varchar(300) DEFAULT NULL,
  `app_name` varchar(300) DEFAULT NULL,
  `app_key` varchar(300) NOT NULL,
  `external_App_id` varchar(300) DEFAULT NULL,
  `inOrOutBoundFlag` int(2) DEFAULT NULL,
  `created_datetime` datetime DEFAULT NULL,
  `updated_datetime` datetime DEFAULT NULL,
  PRIMARY KEY (`group_app_id`)
) ENGINE=InnoDB;

CREATE TABLE `ats_group_members` (
  `group_member_id` int(11) NOT NULL AUTO_INCREMENT,
  `group_id` int(11) NOT NULL,
  `email_id` varchar(100) NOT NULL,
  `admin_flg` int(11) NOT NULL DEFAULT 0 COMMENT '0-user,1-admin',
  `added_by` int(11) NOT NULL,
  `added_datetime` datetime NOT NULL,
  PRIMARY KEY (`group_member_id`),
  UNIQUE KEY `uq_groupmember` (`group_id`,`email_id`)
) ENGINE=InnoDB;

 CREATE TABLE `ats_giggso_rule_details` (
  `rule_id` int(11) NOT NULL AUTO_INCREMENT,
  `rule_name` varchar(50) DEFAULT NULL,
  `group_id` int(11) DEFAULT NULL,
  `resource_id` int(11) DEFAULT NULL,
  `act_stat` int(11) DEFAULT 1 COMMENT '1-enable,2-disable',
  `created_datetime` datetime DEFAULT NULL,
  `created_by` int(11) DEFAULT NULL,
  `updated_datetime` datetime DEFAULT NULL,
  `updated_by` int(11) DEFAULT NULL,
  PRIMARY KEY (`rule_id`)
) ENGINE=InnoDB;

alter table ats_gc_feed add column external_app_key varchar(500);
